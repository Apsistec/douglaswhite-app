name: Build and Deploy
on:
  push:
    branches:
      - master

jobs:
  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@master
      - name: Install Dependencies
        run: npm ci
      - name: Build
        run: npm run build-prod

      
      - name: Deploy to Firebase Hosting
        # You may pin to the exact commit or the version.
        # uses: FirebaseExtended/action-hosting-deploy@276388dd6c2cde23455b30293105cc866c22282d
        uses: FirebaseExtended/action-hosting-deploy@v0.6-alpha
        with:
          # The GITHUB_TOKEN secret
          repoToken: ${{ secrets.FIREBASE_TOKEN }}
          # Firebase service account JSON
        
          # The project to deploy to. If you leave this blank, make sure you check in a .firebaserc file
          projectId: default
          
